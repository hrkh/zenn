---
title: "GitHubã®SSHèªè¨¼ã®è¨­å®šæ–¹æ³•"
emoji: "ğŸ˜€"
type: "tech"
topics: [Git]
published: true
---
æ¯å›æ‚©ã‚€ï¼ˆç‰¹ã«configã®æ›¸ãæ–¹ï¼‰ã®ã§ãƒ¡ãƒ¢ã€‚
â€‹
### æ‰‹é †
#### SSH Keyã®ç”Ÿæˆ
â€‹
SSH Keyã‚’æ ¼ç´ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆ `hogehoge` ï¼‰ã‚’ä½œæˆã—ã¦ç§»å‹•ã™ã‚‹ã€‚
```bash
$ mkdir -p ~/.ssh/hogehoge
$ cd ~/.ssh/hogehoge
```
â€‹
SSH Keyã‚’ç”Ÿæˆã™ã‚‹ã€‚
```bash
$ ssh-keygen -t rsa -b 4096 -C "user@hogehoge.com"
```
â€‹
Keyã®ä¿å­˜å…ˆã‚’èã‹ã‚Œã‚‹ã®ã§ã€ `./id_rsa` ã¨å…¥åŠ›ã—ã¦Enterã€‚
```bash
Enter file in which to save the key (/Users/username/.ssh/id_rsa): ./id_rsa
```
â€‹
ä»»æ„ã®ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å…¥åŠ›ã—ã¦Enterï¼ˆ2å›ï¼‰ã€‚
ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºãŒä¸è¦ã§ã‚ã‚Œã°ç©ºæ¬„ã®ã¾ã¾Enterã§ã‚ˆã„ã€‚â€‹
```bash
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
```
##### ssh-keygenã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³â€‹
* -t
  * æš—å·åŒ–æ–¹å¼ã‚’rsa, dsa, ecdsa, ed25519 ã‹ã‚‰é¸æŠ
  * ä»Šå¾Œã¯ecdsaã‚„ed25519ã®æ–¹ãŒã‚ˆã„ã‹ã‚‚
* -b
  * ãƒ“ãƒƒãƒˆæ•°ã‚’æŒ‡å®šï¼ˆ2048ä»¥ä¸ŠãŒæœ›ã¾ã—ã„ï¼‰
* -C
  * ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŒ‡å®š
  * GitHubã«ç™»éŒ²ã—ã¦ã‚ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã‚‰ã—ã„
â€‹

#### GitHubã¸SSH Keyã‚’è¿½åŠ 
Settingsã®SSH Keysã‹ã‚‰Add SSH Keyã«ç§»å‹•ã—ã€Titleã«è‡ªåˆ†ã§è­˜åˆ¥ã§ãã‚‹æ–‡å­—åˆ—ã€Bodyã« `id_rsa.pub` ã®ä¸­èº«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦Add Keyã™ã‚‹ã€‚
ã“ã®ã¨ãã€é–“é•ãˆã¦ `id_rsa` ã‚’ã‚³ãƒ”ãƒ¼ã—ãªã„ã‚ˆã†ã«æ³¨æ„ã™ã‚‹ã“ã¨ã€‚
â€‹
ã‚³ãƒ”ãƒ¼ã™ã‚‹ã¨ãã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨ä¾¿åˆ©ï¼ˆmacOSã®å ´åˆï¼‰ã€‚
```bash
$ cat ~/.ssh/hogehoge/id_rsa.pub > pbcopy
```
#### SSHã®configã‚’ä½œæˆ
```bash
$ vim ~/.ssh/config
```
â€‹
ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€
```config
Host github.com
    HostName github.com
    User git
    Port 22
    IdentityFile ~/.ssh/hogehoge/id_rsa
```
â€‹
ã¨è¿½è¨˜ã—ã¦ä¿å­˜ã™ã‚‹ã€‚
â€‹
è¤‡æ•°ã®GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ã„åˆ†ã‘ã‚‹å ´åˆã¯ã€
â€‹

* Hostï¼ˆè‡ªåˆ†ã§åŒºåˆ¥ã§ãã‚‹ä»»æ„ã®åå‰ï¼‰
* IdentityFileï¼ˆãã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ä½¿ç”¨ã™ã‚‹SSH Keyã®ãƒ‘ã‚¹ï¼‰
â€‹

ã‚’æ›¸ãæ›ãˆãŸã‚‚ã®ã‚’è¿½åŠ ã™ã‚Œã°OKã€‚
â€‹
#### æ¥ç¶šç¢ºèª
ã¾ãšã€ssh-agentã«è¿½åŠ ã™ã‚‹ã€‚
```bash
$ eval `ssh-agent`
$ ssh-add ~/.ssh/hogehoge/id_rsa
```
â€‹
æ¥ç¶šç¢ºèªã—ã¦ã¿ã‚‹ã€‚
```bash
$ ssh -T git@github.com
```
â€‹
æ¥ç¶šã—ã¦ã‚ˆã„ã‹ç¢ºèªã•ã‚ŒãŸå ´åˆã¯yesã¨å…¥åŠ›ã—ã€èªè¨¼å®Œäº†ã—ãŸæ—¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚Œã°æˆåŠŸã€‚
â€‹
### å‚è€ƒæ–‡çŒ®
* [ãŠå‰ã‚‰ã®SSH Keysã®ä½œã‚Šæ–¹ã¯é–“é•ã£ã¦ã„ã‚‹
](https://qiita.com/suthio/items/2760e4cff0e185fe2db9)
* [~/.ssh/configã«Host githubã¨æ›¸ãã®ã¯é–“é•ã„](https://kimiyuki.net/blog/2018/06/08/github-ssh-permission-denied/)
